import React, { useEffect, useState } from "react";
import { Container, H1, ContainerItem, Title } from "./style";
import { NavLink, useLocation } from "react-router-dom";
import "./index.css";
import { MenagerPageContainer } from "../../menager/style";
import { useLanguage } from "../../../context/LanguageContext";
import Cookies from "js-cookie";
const Pagination = () => {
  const [active, setActive] = useState("nastroyka-usloviya");
  const location = useLocation(); // React Router'dan location hook

  const { translate } = useLanguage();

  const ArchiveIcon = () => {
    return (
      <svg
        width="48"
        height="48"
        viewBox="0 0 48 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          opacity="0.5"
          d="M6.92894 41.071C9.85786 44 14.5719 44 24 44C33.428 44 38.1422 44 41.071 41.071C44 38.1422 44 33.428 44 24C44 14.5719 44 9.85786 41.071 6.92894C38.1422 4 33.428 4 24 4C14.5719 4 9.85786 4 6.92894 6.92894C4 9.85786 4 14.5719 4 24C4 33.428 4 38.1422 6.92894 41.071Z"
          fill={active === "" ? "white" : "#216BF4"}
        />
        <path
          d="M10 16.9996V15C10 13.3431 11.3431 12 13 12H35C36.6568 12 38 13.3431 38 15V16.9996C37.1644 16.3719 36.1256 16 35 16H13C11.8744 16 10.8357 16.3719 10 16.9996Z"
          fill={active === "" ? "white" : "#216BF4"}
        />
        <path
          d="M10 22.9996V21C10 19.3431 11.3431 18 13 18H35C36.6568 18 38 19.3431 38 21V22.9996C37.1644 22.372 36.1256 22 35 22H13C11.8744 22 10.8357 22.372 10 22.9996Z"
          fill={active === "" ? "white" : "#216BF4"}
        />
        <path
          d="M41.5 30C41.5 29.1716 40.8284 28.5 40 28.5H37.9586V26.5006C37.7208 25.0814 36.4868 24 35 24H13C11.5133 24 10.2791 25.0814 10.0414 26.5006V28.5H8C7.17158 28.5 6.5 29.1716 6.5 30C6.5 30.8284 7.17158 31.5 8 31.5H12.6029C14.3409 31.5 14.7977 31.5258 15.1877 31.6846C15.229 31.7014 15.2698 31.7194 15.3102 31.7384C15.6911 31.9178 16.0194 32.2366 17.1961 33.5156L17.267 33.5926L17.4187 33.7578C18.2931 34.7098 18.9838 35.462 19.8893 35.9162C20.0578 36.0008 20.2306 36.0766 20.407 36.1434C21.3542 36.5022 22.3754 36.5012 23.668 36.5002L23.8924 36.5L24.104 36.5002C25.3268 36.5012 26.2928 36.502 27.1974 36.178C27.366 36.1176 27.5316 36.049 27.6934 35.9726C28.5622 35.562 29.2446 34.8784 30.1086 34.013L30.2582 33.8632L30.7176 33.4038C31.9602 32.1612 32.3048 31.854 32.7002 31.6904C33.0954 31.5266 33.5564 31.5 35.3138 31.5H40C40.8284 31.5 41.5 30.8284 41.5 30Z"
          fill={active === "" ? "white" : "#216BF4"}
        />
      </svg>
    );
  };

  const PreparadIcon = () => {
    return (
      <svg
        width="49"
        height="48"
        viewBox="0 0 49 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          opacity="0.5"
          d="M12.3334 7C12.3334 6.06812 12.3334 5.60218 12.4856 5.23464C12.6886 4.74458 13.078 4.35522 13.568 4.15224C13.9356 4 14.4015 4 15.3334 4H33.3334C34.2652 4 34.7312 4 35.0988 4.15224C35.5888 4.35522 35.9782 4.74458 36.1812 5.23464C36.3334 5.60218 36.3334 6.06812 36.3334 7C36.3334 7.93188 36.3334 8.39782 36.1812 8.76536C35.9782 9.25542 35.5888 9.64478 35.0988 9.84776C34.7312 10 34.2652 10 33.3334 10H15.3334C14.4015 10 13.9356 10 13.568 9.84776C13.078 9.64478 12.6886 9.25542 12.4856 8.76536C12.3334 8.39782 12.3334 7.93188 12.3334 7Z"
          fill={active === "Preparad" ? "white" : "#216BF4"}
        />
        <path
          opacity="0.5"
          d="M8.33337 21.845V35.1036C8.33337 35.4044 8.35031 35.7036 8.38373 36H40.286C40.3174 35.7122 40.3334 35.4218 40.3334 35.1298V21.8166C40.3334 21.199 40.262 20.59 40.1244 20H8.54895C8.40703 20.5988 8.33337 21.2174 8.33337 21.845Z"
          fill={active === "Preparad" ? "white" : "#216BF4"}
        />
        <path
          d="M11.3362 15.598L18.3338 10H30.3702L32.6528 11.782L37.3674 15.5986C38.7638 16.729 39.7246 18.2836 40.125 20H8.54938C8.95716 18.2798 9.92852 16.7242 11.3362 15.598Z"
          fill={active === "Preparad" ? "white" : "#216BF4"}
        />
        <path
          d="M8.38416 36C8.55868 37.548 9.18247 39.0184 10.188 40.225C10.9192 41.1026 11.2849 41.5412 11.6886 41.9096C12.886 43.0022 14.387 43.7052 15.9929 43.9256C16.5343 44 17.1054 44 18.2476 44H31.6172C34.0078 44 36.273 42.931 37.7926 41.0856L38.5092 40.2156C39.5032 39.0086 40.1176 37.542 40.2864 36H8.38416Z"
          fill={active === "Preparad" ? "white" : "#216BF4"}
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M24.3334 22.5C25.1618 22.5 25.8334 23.1716 25.8334 24V26.5H28.3334C29.1618 26.5 29.8334 27.1716 29.8334 28C29.8334 28.8284 29.1618 29.5 28.3334 29.5H25.8334V32C25.8334 32.8284 25.1618 33.5 24.3334 33.5C23.505 33.5 22.8334 32.8284 22.8334 32V29.5H20.3334C19.505 29.5 18.8334 28.8284 18.8334 28C18.8334 27.1716 19.505 26.5 20.3334 26.5H22.8334V24C22.8334 23.1716 23.505 22.5 24.3334 22.5Z"
          fill={active === "Preparad" ? "white" : "#216BF4"}
        />
      </svg>
    );
  };

  const MestarabotayaIcon = () => {
    return (
      <svg
        width="48"
        height="48"
        viewBox="0 0 48 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M21.5 4H25.5C29.2712 4 31.1568 4 32.3284 5.17158C33.5 6.34314 33.5 8.22876 33.5 12V42.5H42.5H43.5C44.3284 42.5 45 43.1716 45 44C45 44.8284 44.3284 45.5 43.5 45.5H3.5C2.67158 45.5 2 44.8284 2 44C2 43.1716 2.67158 42.5 3.5 42.5H10.5H13.5V12C13.5 8.22876 13.5 6.34314 14.6716 5.17158C15.8431 4 17.7288 4 21.5 4ZM23.5 8.5C24.3284 8.5 25 9.17158 25 10V12.5H27.5C28.3284 12.5 29 13.1716 29 14C29 14.8284 28.3284 15.5 27.5 15.5H25V18C25 18.8284 24.3284 19.5 23.5 19.5C22.6716 19.5 22 18.8284 22 18V15.5H19.5C18.6716 15.5 18 14.8284 18 14C18 13.1716 18.6716 12.5 19.5 12.5H22V10C22 9.17158 22.6716 8.5 23.5 8.5ZM18 24C18 23.1716 18.6716 22.5 19.5 22.5H27.5C28.3284 22.5 29 23.1716 29 24C29 24.8284 28.3284 25.5 27.5 25.5H19.5C18.6716 25.5 18 24.8284 18 24ZM18 30C18 29.1716 18.6716 28.5 19.5 28.5H27.5C28.3284 28.5 29 29.1716 29 30C29 30.8284 28.3284 31.5 27.5 31.5H19.5C18.6716 31.5 18 30.8284 18 30ZM23.5 36.5C24.3284 36.5 25 37.1716 25 38V42.5H22V38C22 37.1716 22.6716 36.5 23.5 36.5Z"
          fill={active === "Mestrabotaya" ? "white" : "#216BF4"}
        />
        <path
          opacity="0.5"
          d="M41.8258 11.7774C42.5 12.7863 42.5 14.1907 42.5 16.9997V42.4996H43.5C44.3284 42.4996 45 43.1712 45 43.9996C45 44.8282 44.3284 45.4996 43.5 45.4996H3.5C2.67158 45.4996 2 44.8282 2 43.9996C2 43.1712 2.67158 42.4996 3.5 42.4996H4.5V16.9997C4.5 14.1907 4.5 12.7863 5.17412 11.7774C5.46596 11.3406 5.84096 10.9656 6.27772 10.6738C7.16016 10.0841 11.3512 10.0102 13.514 10.001C13.5058 10.5838 13.5059 11.1927 13.506 11.8207L13.506 11.9997V14.4997H8.5C7.67158 14.4997 7 15.1712 7 15.9997C7 16.8281 7.67158 17.4997 8.5 17.4997H13.506V20.4996H8.5C7.67158 20.4996 7 21.1712 7 21.9996C7 22.8282 7.67158 23.4996 8.5 23.4996H13.506V26.4996H8.5C7.67158 26.4996 7 27.1712 7 27.9996C7 28.8282 7.67158 29.4996 8.5 29.4996H13.506V42.4996H33.5058V29.4996H38.5C39.3284 29.4996 40 28.8282 40 27.9996C40 27.1712 39.3284 26.4996 38.5 26.4996H33.5058V23.4996H38.5C39.3284 23.4996 40 22.8282 40 21.9996C40 21.1712 39.3284 20.4996 38.5 20.4996H33.5058V17.4997H38.5C39.3284 17.4997 40 16.8281 40 15.9997C40 15.1712 39.3284 14.4997 38.5 14.4997H33.5058V11.9997V11.8207C33.506 11.1928 33.506 10.5838 33.4978 10.001C35.6606 10.0102 39.8398 10.0841 40.7222 10.6738C41.159 10.9656 41.534 11.3406 41.8258 11.7774Z"
          fill={active === "Mestrabotaya" ? "white" : "#216BF4"}
        />
      </svg>
    );
  };
  const PredojiIcon = () => {
    return (
      <svg
        width="48"
        height="48"
        viewBox="0 0 48 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M28.5 37.9998H31.5C36.1348 37.9892 38.615 37.8752 40.4446 36.6526C41.318 36.069 42.068 35.319 42.6518 34.4454C44 32.4276 44 29.6188 44 24.0008C44 18.383 44 15.5741 42.6518 13.5563C42.068 12.6828 41.318 11.9328 40.4446 11.3491C38.615 10.1266 36.1348 10.0126 31.5 10.002H28.5V18H30C33.3138 18 36 20.6862 36 24C36 27.3138 33.3138 30 30 30H28.5V37.9998Z"
          fill={active === "Predoji" ? "white" : "#216BF4"}
        />
        <path
          d="M19.5 37.9998V30H18C14.6863 30 12 27.3138 12 24C12 20.6862 14.6863 18 18 18H19.5V10.002H16.5C11.8651 10.0126 9.38506 10.1266 7.55544 11.3491C6.68192 11.9328 5.93192 12.6828 5.34824 13.5563C4 15.5741 4 18.383 4 24.0008C4 29.6188 4 32.4276 5.34824 34.4454C5.93192 35.319 6.68192 36.069 7.55544 36.6526C9.38506 37.8752 11.8652 37.9892 16.5 37.9998H19.5Z"
          fill={active === "Predoji" ? "white" : "#216BF4"}
        />
        <path
          opacity="0.5"
          d="M19.5 38H28.5V10H19.5V38Z"
          fill={active === "Predoji" ? "white" : "#216BF4"}
        />
      </svg>
    );
  };

  const data =
    Cookies.get("role") === "SUPERADMIN"
      ? [
          {
            id: 0,
            name: translate("Архив_договоров"),
            path: "",
            icon: <ArchiveIcon />,
          },
          {
            id: 1,
            name: translate("Препараты"),
            path: "Preparad",
            icon: <PreparadIcon />,
          },
          {
            id: 2,
            name: translate("Места работы"),
            path: "Mestrabotaya",
            icon: <MestarabotayaIcon />,
          },
          {
            id: 3,
            name: translate("Продажи"),
            path: "Predoji",
            icon: <PredojiIcon />,
          },
        ]
      : Cookies.get("role") === "MANAGER"
      ? [
          {
            id: 0,
            name: translate("Архив_договоров"),
            path: "",
            icon: <ArchiveIcon />,
          },
          {
            id: 1,
            name: translate("Препараты"),
            path: "Preparad",
            icon: <PreparadIcon />,
          },
          {
            id: 2,
            name: translate("Места работы"),
            path: "Mestrabotaya",
            icon: <MestarabotayaIcon />,
          },
        ]
      : [];

  const navdata = data;

  useEffect(() => {
    const pathSegments = location.pathname.split("/");
    const pageName = pathSegments[pathSegments.length - 1] || ""; // Oxirgi segmentni oladi

    if (pageName === "nastroyka-usloviya") {
      console.log(1);
      setActive("");
    } else {
      console.log(2);
      setActive(pageName);
    }

    console.log(active); // Ehtimoliy eski qiymatni ko'rsatadi
  }, [location.pathname]); // document.location o'rniga location.pathname ishlatiladi

  return (
    <>
      <ContainerItem>
        {navdata?.map((item) => (
          <NavLink
            key={item.id}
            to={item.path}
            style={{ textDecoration: "none" }}
            className={
              active === item.path
                ? "activeInner itemLink"
                : "itemInner itemLink"
            }
          >
            <div>
              <H1>{item.name}</H1>
              <span
                style={{
                  fontSize: "24px",
                  color: "#3d7ffb",
                }}
              >
                <i>{item.icon}</i>
              </span>
            </div>
          </NavLink>
        ))}
      </ContainerItem>
    </>
  );
};

export default Pagination;
